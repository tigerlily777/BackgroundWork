# BackgroundWork

## 1️⃣ 为什么需要背景任务？

### ✅ 因为在移动设备上：
	•	用户操作App的时候，不希望一切都卡在主线程上（比如下载、同步、备份）
	•	有些工作需要在后台默默进行（比如推送更新、定时提醒、自动同步数据）

简单说就是：「让设备在不打扰用户的情况下，悄悄做一些事情。」

比如：
	•	你在用相册 App，但照片自动在后台上传到云端
	•	你在用笔记 App，笔记后台悄悄保存草稿
	•	你下了个银行 App，它定时后台同步你的账户余额

### 🌟 总结，背景任务:
- 提升体验 用户不需要等下载完成，界面不卡住
- 节省电量 后台批量处理，避免频繁唤醒设备
- 符合系统限制 Android 限制了后台过度唤醒，必须合理使用

## 2️⃣ 背景任务的不同类型

### ✅ Android官方把背景任务大致分成两种：

| 类型 | 特点 | 示例 |
|:---|:---|:---|
| 短时间任务（短任务） | 快速完成，一般几秒内搞定 | 上传一张图片、保存一条记录 |
| 长时间任务（长任务） | 比较慢，可能几分钟、几十分钟才完成 | 大文件下载、定时备份数据 |

📚 简单区分一下
| 项目 | 短任务 | 长任务 |
|:---|:---|:---|
| 是否需要持续运行 | ❌ 不需要 | ✅ 需要 |
| 是否涉及设备休眠/重启 | ❌ 不需要太担心 | ✅ 要考虑（可能设备休眠或者关机） |
| 是否要求可靠性 | ❌ 一般即可 | ✅ 需要高可靠，比如断网后自动重试 |
| 典型例子 | 发送 API 请求 | 备份所有照片 |

### 🌟 总结成一句话：

短任务适合「快速搞定一次性的小事」，长任务适合「后台默默进行的大工程」。

## 3️⃣ Android 官方提供了哪些做背景任务的方法？
| 方法               | 关键词                            |
|:-------------------|:----------------------------------|
| Handler            | 主线程以外执行的小事              |
| WorkManager        | 后台可靠、自动恢复、最推荐         |
| JobScheduler       | 系统调度，大任务（有条件限制）     |
| Foreground Service | 必须让用户看到的后台活动           |


